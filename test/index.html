<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <title>字符串“折叠”</title>
        <script src="jquery-2.2.4.min.js"></script>
        <script src="../src/strFolding.js"></script>
    </head>

    <body>
        <div id="str"></div>
        <style>
            #str {
                word-break: break-all;
            }
        </style>
        <script type="text/javascript">
            /*
            $(function() {
                var i = 0, codes = '';
                while (i < 6000) {
                    if(i == 128 || i == 2047) {
                        codes += '<br><br><br>';
                    }
                    codes += String.fromCharCode(i);
                    i++;
                }
                $('#str').html(codes);
        	});
        	*/
        </script>
        <script>
            var sf;
            $(function() {
                sf = new StrFolding({
                    statistics: function(data) {
                        console.log(JSON.stringify(data));
                    }
                });
                $.get('novel.utf8.txt', function(data) {
                    //data = JSON.stringify(JSON.parse(data));
                    var enc = sf.encode(data);
                    //console.log(enc);
                    var res = sf.decode(enc);
                    //console.log(res);
                }, 'text');
            });
        </script>
    </body>

</html>